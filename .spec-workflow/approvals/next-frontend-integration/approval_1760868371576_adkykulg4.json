{
  "id": "approval_1760868371576_adkykulg4",
  "title": "Review Next.js Frontend Integration Tasks",
  "filePath": ".spec-workflow/specs/next-frontend-integration/tasks.md",
  "type": "document",
  "status": "needs-revision",
  "createdAt": "2025-10-19T10:06:11.576Z",
  "category": "spec",
  "categoryName": "next-frontend-integration",
  "response": "Feedback Summary (1 comments):\n\nSpecific Text Comments:\n1. \"### Phase 1: Maven Frontend Build Integration\n\n- [...\": 改成用shell script方式，而不是透過maven來建置，讓frontend-next跟monolith沒有相依性，完全個別獨立運作\n",
  "annotations": "{\n  \"decision\": \"needs-revision\",\n  \"comments\": [\n    {\n      \"type\": \"selection\",\n      \"comment\": \"改成用shell script方式，而不是透過maven來建置，讓frontend-next跟monolith沒有相依性，完全個別獨立運作\",\n      \"timestamp\": \"2025-10-19T10:08:20.919Z\",\n      \"selectedText\": \"### Phase 1: Maven Frontend Build Integration\\n\\n- [ ] 1. Add frontend-maven-plugin to pom.xml\\n  - File: `pom.xml` (modify existing)\\n  - Add `frontend-maven-plugin` version 1.15.0 in `<plugins>` section\\n  - Configure `workingDirectory` as `frontend-next`\\n  - Configure `installDirectory` as `${project.build.directory}`\\n  - Purpose: Enable Maven to execute Node.js and pnpm commands during build\\n  - _Requirements: 2.1, 2.2_\\n  - _Leverages: Existing Maven build configuration, Spring Boot packaging_\\n\\n- [ ] 2. Configure Node.js and pnpm installation in pom.xml\\n  - File: `pom.xml` (modify existing - continuation of task 1)\\n  - Add execution `install-node-and-pnpm` with goal `install-node-and-pnpm`\\n  - Set Node.js version to `v18.19.0`\\n  - Set pnpm version to `9.0.0`\\n  - Purpose: Ensure consistent Node.js and pnpm versions across all build environments\\n  - _Requirements: 2.1, 2.2_\\n  - _Leverages: frontend-maven-plugin from task 1_\\n\\n- [ ] 3. Add pnpm install execution to pom.xml\\n  - File: `pom.xml` (modify existing - continuation of task 2)\\n  - Add execution `pnpm-install` with goal `pnpm`\\n  - Configure arguments: `install --frozen-lockfile`\\n  - Set phase to `generate-resources`\\n  - Purpose: Install frontend dependencies during Maven build\\n  - _Requirements: 2.2_\\n  - _Leverages: pnpm from task 2_\\n\\n- [ ] 4. Add Next.js build execution to pom.xml\\n  - File: `pom.xml` (modify existing - continuation of task 3)\\n  - Add execution `pnpm-build` with goal `pnpm`\\n  - Configure arguments: `build`\\n  - Set phase to `generate-resources`\\n  - Purpose: Build Next.js static export during Maven build\\n  - _Requirements: 2.2, 2.3_\\n  - _Leverages: Next.js project from frontend-next/ directory_\\n\\n- [ ] 5. Configure maven-resources-plugin to copy frontend assets\\n  - File: `pom.xml` (modify existing)\\n  - Add `maven-resources-plugin` version 3.3.1\\n  - Add execution `copy-frontend-static` in phase `process-classes`\\n  - Configure `outputDirectory` as `${project.build.outputDirectory}/static`\\n  - Configure source `<directory>` as `frontend-next/out`\\n  - Set `<filtering>` to `false`\\n  - Purpose: Copy Next.js static export to Spring Boot resources directory\\n  - _Requirements: 2.2, 2.3, 10.1_\\n  - _Leverages: Maven resources plugin, Next.js out/ directory_\",\n      \"highlightColor\": {\n        \"bg\": \"rgba(255, 235, 59, 0.3)\",\n        \"border\": \"#FFEB3B\",\n        \"name\": \"#ffeb3b\"\n      },\n      \"id\": \"comment_1760868500919_nfwdtm2kj\"\n    }\n  ],\n  \"summary\": \"Feedback Summary (1 comments):\\n\\nSpecific Text Comments:\\n1. \\\"### Phase 1: Maven Frontend Build Integration\\n\\n- [...\\\": 改成用shell script方式，而不是透過maven來建置，讓frontend-next跟monolith沒有相依性，完全個別獨立運作\\n\",\n  \"timestamp\": \"2025-10-19T10:08:29.854Z\"\n}",
  "respondedAt": "2025-10-19T10:08:29.896Z",
  "comments": [
    {
      "type": "selection",
      "comment": "改成用shell script方式，而不是透過maven來建置，讓frontend-next跟monolith沒有相依性，完全個別獨立運作",
      "timestamp": "2025-10-19T10:08:20.919Z",
      "selectedText": "### Phase 1: Maven Frontend Build Integration\n\n- [ ] 1. Add frontend-maven-plugin to pom.xml\n  - File: `pom.xml` (modify existing)\n  - Add `frontend-maven-plugin` version 1.15.0 in `<plugins>` section\n  - Configure `workingDirectory` as `frontend-next`\n  - Configure `installDirectory` as `${project.build.directory}`\n  - Purpose: Enable Maven to execute Node.js and pnpm commands during build\n  - _Requirements: 2.1, 2.2_\n  - _Leverages: Existing Maven build configuration, Spring Boot packaging_\n\n- [ ] 2. Configure Node.js and pnpm installation in pom.xml\n  - File: `pom.xml` (modify existing - continuation of task 1)\n  - Add execution `install-node-and-pnpm` with goal `install-node-and-pnpm`\n  - Set Node.js version to `v18.19.0`\n  - Set pnpm version to `9.0.0`\n  - Purpose: Ensure consistent Node.js and pnpm versions across all build environments\n  - _Requirements: 2.1, 2.2_\n  - _Leverages: frontend-maven-plugin from task 1_\n\n- [ ] 3. Add pnpm install execution to pom.xml\n  - File: `pom.xml` (modify existing - continuation of task 2)\n  - Add execution `pnpm-install` with goal `pnpm`\n  - Configure arguments: `install --frozen-lockfile`\n  - Set phase to `generate-resources`\n  - Purpose: Install frontend dependencies during Maven build\n  - _Requirements: 2.2_\n  - _Leverages: pnpm from task 2_\n\n- [ ] 4. Add Next.js build execution to pom.xml\n  - File: `pom.xml` (modify existing - continuation of task 3)\n  - Add execution `pnpm-build` with goal `pnpm`\n  - Configure arguments: `build`\n  - Set phase to `generate-resources`\n  - Purpose: Build Next.js static export during Maven build\n  - _Requirements: 2.2, 2.3_\n  - _Leverages: Next.js project from frontend-next/ directory_\n\n- [ ] 5. Configure maven-resources-plugin to copy frontend assets\n  - File: `pom.xml` (modify existing)\n  - Add `maven-resources-plugin` version 3.3.1\n  - Add execution `copy-frontend-static` in phase `process-classes`\n  - Configure `outputDirectory` as `${project.build.outputDirectory}/static`\n  - Configure source `<directory>` as `frontend-next/out`\n  - Set `<filtering>` to `false`\n  - Purpose: Copy Next.js static export to Spring Boot resources directory\n  - _Requirements: 2.2, 2.3, 10.1_\n  - _Leverages: Maven resources plugin, Next.js out/ directory_",
      "highlightColor": {
        "bg": "rgba(255, 235, 59, 0.3)",
        "border": "#FFEB3B",
        "name": "#ffeb3b"
      },
      "id": "comment_1760868500919_nfwdtm2kj"
    }
  ]
}