{
  "id": "approval_1760807319093_l7v5gve2o",
  "title": "Next.js Frontend Integration - Design Document",
  "filePath": ".spec-workflow/specs/nextt-frontend-integration/design.md",
  "type": "document",
  "status": "needs-revision",
  "createdAt": "2025-10-18T17:08:39.093Z",
  "category": "spec",
  "categoryName": "nextt-frontend-integration",
  "response": "Feedback Summary (1 comments):\n\nSpecific Text Comments:\n1. \"## Component 1: Maven Frontend Build Integration\n\n...\": 前後端不要放在一起build，改成用shell script\n",
  "annotations": "{\n  \"decision\": \"needs-revision\",\n  \"comments\": [\n    {\n      \"type\": \"selection\",\n      \"comment\": \"前後端不要放在一起build，改成用shell script\",\n      \"timestamp\": \"2025-10-18T17:14:33.781Z\",\n      \"selectedText\": \"## Component 1: Maven Frontend Build Integration\\n\\n**Purpose**: Automate frontend build as part of Maven lifecycle\\n\\n**Configuration**: `pom.xml`\\n```xml\\n<plugin>\\n    <groupId>com.github.eirslett</groupId>\\n    <artifactId>frontend-maven-plugin</artifactId>\\n    <version>1.15.0</version>\\n    <executions>\\n        <execution>\\n            <id>install node and pnpm</id>\\n            <goals><goal>install-node-and-pnpm</goal></goals>\\n            <configuration>\\n                <nodeVersion>v18.20.0</nodeVersion>\\n                <pnpmVersion>9.0.0</pnpmVersion>\\n            </configuration>\\n        </execution>\\n        <execution>\\n            <id>pnpm install</id>\\n            <goals><goal>pnpm</goal></goals>\\n            <configuration>\\n                <arguments>install --frozen-lockfile</arguments>\\n                <workingDirectory>frontend-next</workingDirectory>\\n            </configuration>\\n        </execution>\\n        <execution>\\n            <id>pnpm build</id>\\n            <goals><goal>pnpm</goal></goals>\\n            <configuration>\\n                <arguments>run build</arguments>\\n                <workingDirectory>frontend-next</workingDirectory>\\n            </configuration>\\n        </execution>\\n    </executions>\\n</plugin>\\n\\n<plugin>\\n    <artifactId>maven-resources-plugin</artifactId>\\n    <executions>\\n        <execution>\\n            <id>copy-frontend-assets</id>\\n            <phase>prepare-package</phase>\\n            <goals><goal>copy-resources</goal></goals>\\n            <configuration>\\n                <outputDirectory>${project.build.outputDirectory}/static</outputDirectory>\\n                <resources>\\n                    <resource>\\n                        <directory>frontend-next/apps/web/.next/standalone/apps/web</directory>\\n                        <filtering>false</filtering>\\n                    </resource>\\n                    <resource>\\n                        <directory>frontend-next/apps/web/.next/static</directory>\\n                        <targetPath>_next/static</targetPath>\\n                        <filtering>false</filtering>\\n                    </resource>\\n                </resources>\\n            </configuration>\\n        </execution>\\n    </executions>\\n</plugin>\\n```\",\n      \"highlightColor\": {\n        \"bg\": \"rgba(255, 235, 59, 0.3)\",\n        \"border\": \"#FFEB3B\",\n        \"name\": \"#ffeb3b\"\n      },\n      \"id\": \"comment_1760807673781_wdgnv5296\"\n    }\n  ],\n  \"summary\": \"Feedback Summary (1 comments):\\n\\nSpecific Text Comments:\\n1. \\\"## Component 1: Maven Frontend Build Integration\\n\\n...\\\": 前後端不要放在一起build，改成用shell script\\n\",\n  \"timestamp\": \"2025-10-18T17:15:37.609Z\"\n}",
  "respondedAt": "2025-10-18T17:15:37.639Z",
  "comments": [
    {
      "type": "selection",
      "comment": "前後端不要放在一起build，改成用shell script",
      "timestamp": "2025-10-18T17:14:33.781Z",
      "selectedText": "## Component 1: Maven Frontend Build Integration\n\n**Purpose**: Automate frontend build as part of Maven lifecycle\n\n**Configuration**: `pom.xml`\n```xml\n<plugin>\n    <groupId>com.github.eirslett</groupId>\n    <artifactId>frontend-maven-plugin</artifactId>\n    <version>1.15.0</version>\n    <executions>\n        <execution>\n            <id>install node and pnpm</id>\n            <goals><goal>install-node-and-pnpm</goal></goals>\n            <configuration>\n                <nodeVersion>v18.20.0</nodeVersion>\n                <pnpmVersion>9.0.0</pnpmVersion>\n            </configuration>\n        </execution>\n        <execution>\n            <id>pnpm install</id>\n            <goals><goal>pnpm</goal></goals>\n            <configuration>\n                <arguments>install --frozen-lockfile</arguments>\n                <workingDirectory>frontend-next</workingDirectory>\n            </configuration>\n        </execution>\n        <execution>\n            <id>pnpm build</id>\n            <goals><goal>pnpm</goal></goals>\n            <configuration>\n                <arguments>run build</arguments>\n                <workingDirectory>frontend-next</workingDirectory>\n            </configuration>\n        </execution>\n    </executions>\n</plugin>\n\n<plugin>\n    <artifactId>maven-resources-plugin</artifactId>\n    <executions>\n        <execution>\n            <id>copy-frontend-assets</id>\n            <phase>prepare-package</phase>\n            <goals><goal>copy-resources</goal></goals>\n            <configuration>\n                <outputDirectory>${project.build.outputDirectory}/static</outputDirectory>\n                <resources>\n                    <resource>\n                        <directory>frontend-next/apps/web/.next/standalone/apps/web</directory>\n                        <filtering>false</filtering>\n                    </resource>\n                    <resource>\n                        <directory>frontend-next/apps/web/.next/static</directory>\n                        <targetPath>_next/static</targetPath>\n                        <filtering>false</filtering>\n                    </resource>\n                </resources>\n            </configuration>\n        </execution>\n    </executions>\n</plugin>\n```",
      "highlightColor": {
        "bg": "rgba(255, 235, 59, 0.3)",
        "border": "#FFEB3B",
        "name": "#ffeb3b"
      },
      "id": "comment_1760807673781_wdgnv5296"
    }
  ]
}